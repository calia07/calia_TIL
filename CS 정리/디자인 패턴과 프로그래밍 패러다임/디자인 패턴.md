# 디자인 패턴
#### - 라이브러리나 프레임워크의 기본
#### - 프로그램 설계 시 발생한 문제점들을 객체 간의 상호 관계등을 이용하여 해결할 수 있도록 규약 형태로 만들어 놓은 것

<br>

   ##   1. 싱글톤 패턴(Singleton Pattern)
   하나의 클래스에 하나의 인스턴스만 가지는 패턴 ( 데이터베이스 연결 모듈에 많이 쓰임)
   ##### * 객체 : 속성과 기능을 갖춘 것
   ##### * 클래스 : 속성과 기능을 정의한 것
   ##### * 인스턴스 : 속성과 기능을 가진 것 중 실제하는 것
   
   - #### javascript의 싱글톤 패턴
   
   ```javascript
   const obj = {
       a=27
   };
   
   const obj2 = {
       a=27
   }
   
   class Singleton {
      Constructor(){
          if(!Singleton.instance){
              Singleton.instance = this
          }
          return Singleton.instance
      }
      getinstance(){
          return this.instance
      }
   }
   ```
   - #### mongoose의 싱글톤 패턴
   ##### * mongoose : Node.js에서 MongoDB 데이터베이스를 연결할 때 쓰는 Mongoose 모듈, connect()함수는 싱글톤 인스턴스 반환
   
   - #### MySQL의 싱글톤 패턴
   ##### * Node.js에서 MySQL 데이터베이스 연결시에도 싱글톤 패턴 사용
   <br>
   
   ### 싱글톤 패턴의 장점
   1. 하나의 인스턴스를 생성해 놓고 다른 모듈들이 공유하며 사용하기 때문에 생성 비용이 줄어듬.

<br>

   ### 싱글톤 패턴의 단점
   1. 의존성이 높아짐
   2. TDD(단위 테스트)시 서로가 독립적이고 어떤 순서로든 테스트를 실행할 수 있어야 하는데 싱글톤 패턴은 하나의 인스턴스를 기반으로 구현하는 패턴이므로 독립적인 인스턴스를 만들기 어려움
<br>

   ### 싱글톤 패턴의 단점 해결 방법 : 의존성 주입
   메인 모듈에 직접 다른 하위 모듈을 연결하는 것 보다는 중간에 의존성 주입자를 이용해 간접적으로 의존성을 주입하는 방식
   - #### 테스팅과 마이그레이션이 쉽다.
   - #### 모듈이 분리되어 복잡성이 증가될 수 있으며 약간의 런타임 페널티 생길 수 있음
   - 상위 모듈은 하위 모듈에서 어떠한 것도 가져오지 않아야 한다.
